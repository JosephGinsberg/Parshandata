import{S as T,i as j,s as q,e as E,t as V,c as R,a as S,h as w,d as h,b as m,f as v,g as b,F as I,j as B,k as Y,m as C,L as y,R as z,T as F,n as D,U as G,V as L}from"../chunks/index-dcd3d23b.js";function J(i,e,l){const n=i.slice();return n[13]=e[l],n[15]=l,n}function M(i){let e,l=i[5].value+"",n;return{c(){e=E("div"),n=V(l),this.h()},l(r){e=R(r,"DIV",{class:!0,style:!0});var o=S(e);n=w(o,l),o.forEach(h),this.h()},h(){m(e,"class","item ghost svelte-11ufk9r"),v(e,"top",i[3]+i[4]+"px"),v(e,"background",i[5].value)},m(r,o){b(r,e,o),I(e,n)},p(r,o){o&32&&l!==(l=r[5].value+"")&&B(n,l),o&24&&v(e,"top",r[3]+r[4]+"px"),o&32&&v(e,"background",r[5].value)},d(r){r&&h(e)}}}function N(i,e){let l,n=e[13].value+"",r,o,f,d,a;function u(...t){return e[8](e[13],e[15],...t)}function _(...t){return e[10](e[15],...t)}return{key:i,first:null,c(){l=E("div"),r=V(n),o=Y(),this.h()},l(t){l=R(t,"DIV",{class:!0,style:!0,draggable:!0});var s=S(l);r=w(s,n),o=C(s),s.forEach(h),this.h()},h(){m(l,"class",f="item "+(e[6]==e[13].id?"invisible":"")+" svelte-11ufk9r"),v(l,"background",e[13].value),m(l,"draggable","true"),this.first=l},m(t,s){b(t,l,s),I(l,r),I(l,o),d||(a=[y(l,"dragstart",u),y(l,"drag",e[9]),y(l,"dragover",_),y(l,"dragend",e[11])],d=!0)},p(t,s){e=t,s&1&&n!==(n=e[13].value+"")&&B(r,n),s&65&&f!==(f="item "+(e[6]==e[13].id?"invisible":"")+" svelte-11ufk9r")&&m(l,"class",f),s&1&&v(l,"background",e[13].value)},d(t){t&&h(l),d=!1,z(a)}}}function U(i){let e,l,n=[],r=new Map,o,f=JSON.stringify(i[0])+"",d,a=i[3]&&M(i),u=i[0];const _=t=>t[13];for(let t=0;t<u.length;t+=1){let s=J(i,u,t),c=_(s);r.set(c,n[t]=N(c,s))}return{c(){e=E("div"),a&&a.c(),l=Y();for(let t=0;t<n.length;t+=1)n[t].c();o=Y(),d=V(f),this.h()},l(t){e=R(t,"DIV",{class:!0});var s=S(e);a&&a.l(s),l=C(s);for(let c=0;c<n.length;c+=1)n[c].l(s);s.forEach(h),o=C(t),d=w(t,f),this.h()},h(){m(e,"class","container svelte-11ufk9r")},m(t,s){b(t,e,s),a&&a.m(e,null),I(e,l);for(let c=0;c<n.length;c+=1)n[c].m(e,null);i[12](e),b(t,o,s),b(t,d,s)},p(t,[s]){t[3]?a?a.p(t,s):(a=M(t),a.c(),a.m(e,l)):a&&(a.d(1),a=null),s&127&&(u=t[0],n=F(n,s,_,1,t,u,r,e,G,N,null,J)),s&1&&f!==(f=JSON.stringify(t[0])+"")&&B(d,f)},i:D,o:D,d(t){t&&h(e),a&&a.d();for(let s=0;s<n.length;s+=1)n[s].d();i[12](null),t&&h(o),t&&h(d)}}}function A(i,e,l){let n=[{id:1,value:"red"},{id:2,value:"green"},{id:3,value:"blue"},{id:4,value:"cyan"}],r=null,o=null,f=null,d=null,a=null,u=null,_=null;const t=(g,p,k)=>{l(3,r=k.clientY),l(5,f=g),l(1,a=p),l(6,d=g.id),l(4,o=k.target.getBoundingClientRect().y-k.target.parentElement.getBoundingClientRect().y-k.clientY)},s=g=>{const p=g.target.parentElement.getBoundingClientRect();g.clientY>p.top&&g.clientY<p.bottom&&l(3,r=g.clientY),console.log("drag",r,p.top,p.bottom,d)},c=(g,p)=>{l(2,u=g)},O=g=>{console.log("dragend",r),l(3,r=0),l(6,d=null),l(2,u=null)};function P(g){L[g?"unshift":"push"](()=>{_=g,l(7,_)})}return i.$$.update=()=>{i.$$.dirty&7&&a!=null&&u!=null&&a!=u&&(l(0,[n[a],n[u]]=[n[u],n[a]],n),l(1,a=u))},[n,a,u,r,o,f,d,_,t,s,c,O,P]}class K extends T{constructor(e){super(),j(this,e,A,U,q,{})}}export{K as default};
